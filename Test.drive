"use client";
import { useStore } from "@/lib/store";
import { api } from "@/lib/api";

export default function RunTestDrive() {
  const config = useStore((s) => s.config);
  const setTelemetry = useStore((s) => s.setTelemetry);

  const run = async () => {
    const res = await api.post("/testdrive", { config, seconds: 10 });
    setTelemetry(res.data);
  };

  return (
    <button
      onClick={run}
      className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500"
    >
      Run Test Drive
    </button>
  );
}
